:root {
  color-scheme: dark;
  --bg: #0b0f14;
  --surface: #121823;
  --elev: #1a2230;
  --text: #e6ecf2;
  --muted: #9fb0c3;
  --primary: #2dd4bf;
  --primary-2: #1aa39a;
  --accent: #fbbf24;
  --danger: #ef4444;
  --outline: #334155;
  --radius: 14px;
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body { height: 100%; margin: 0; }
body {
  background: radial-gradient(1200px 600px at 80% -50%, #1b2433, #0b0f14 60%);
  color: var(--text);
  font-family: Inter, system-ui, Segoe UI, Roboto, Arial, sans-serif;
  line-height: 1.45;
}

/* Header */
.app-header {
  position: sticky; top: 0; z-index: 10;
  padding: calc(8px + var(--safe-top)) 12px 8px;
  display: flex; align-items: center; justify-content: space-between;
  background: rgba(10,13,19,0.6);
  border-bottom: 1px solid #111723;
  backdrop-filter: blur(6px);
}
.brand { display: flex; align-items: center; gap: 8px; font-weight: 800; }
.logo { font-size: 1.2rem; }
.title { font-size: 1.05rem; letter-spacing: 0.3px; }
.header-right { display: flex; align-items: center; gap: 8px; }
.uid-chip {
  padding: 6px 10px; border-radius: 999px; background: #162031; color: #cfe6ff;
  font-size: 0.82rem; border: 1px solid #2a3b55;
}
.icon-btn {
  border: 1px solid var(--outline); background: #0f1623; color: var(--text);
  border-radius: 12px; padding: 8px 10px; cursor: pointer;
}

/* Main */
.app-main { padding: 12px; padding-bottom: 90px; max-width: 900px; margin: 0 auto; }
.screen { max-width: 560px; margin: 0 auto; }
.hidden { display: none !important; }
.muted { color: var(--muted); }
.small { font-size: 0.9rem; }
.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }

/* Cards */
.card {
  background: linear-gradient(180deg, var(--surface), var(--elev));
  border: 1px solid #1f2937;
  border-radius: var(--radius);
  padding: 14px;
  box-shadow: 0 10px 24px rgba(0,0,0,0.25);
  margin: 10px 0;
}
.kpi-card { padding-bottom: 10px; }

/* Auth */
.auth-card h1 { margin: 0 0 4px; }
.tabs { display: inline-flex; gap: 8px; margin: 8px 0 12px; }
.tab {
  background: transparent; border: 1px solid var(--outline); color: var(--text);
  padding: 8px 12px; border-radius: 999px; cursor: pointer;
}
.tab.active { background: #162031; border-color: #2a3b55; }
.form { display: none; }
.form.active { display: block; }
label { display: block; margin: 10px 0; }
input, button, a { font: inherit; }
input {
  width: 100%; margin-top: 6px; padding: 12px 14px; border-radius: 12px;
  border: 1px solid var(--outline); background: #0f1623; color: var(--text);
}

/* Buttons */
.btn {
  padding: 12px 14px; border-radius: 12px; border: 1px solid transparent;
  background: var(--accent); color: #0b0f14; font-weight: 800; cursor: pointer;
}
.btn:hover { filter: brightness(0.96); }
.btn:active { transform: translateY(1px); }
.btn-primary { background: var(--primary); }
.btn-primary:hover { background: var(--primary-2); }
.btn-outline { background: transparent; color: var(--text); border-color: var(--outline); }
.btn-danger { background: var(--danger); color: #fff; }
.inline-form { display: flex; gap: 8px; margin-top: 8px; }

/* KPIs */
.kpis { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }
.kpi-label { color: var(--muted); font-size: 0.85rem; }
.kpi-value { font-size: 1.3rem; font-weight: 800; }

/* Packages */
.packages { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.pkg {
  background: #0e1726; border: 1px solid #1f2b3f; border-radius: 12px; padding: 12px;
}
.pkg h4 { margin: 2px 0 8px; font-size: 1rem; }
.pkg .yield { color: var(--primary); font-weight: 700; font-size: 0.95rem; }
.pkg button { width: 100%; margin-top: 8px; }

/* Investments */
.list-empty { padding: 8px 0; }
.inv {
  display: grid; grid-template-columns: 1fr 1fr; gap: 10px; align-items: center;
  padding: 10px; border: 1px solid #1e2a3d; border-radius: 12px; margin: 8px 0;
  background: #0f1522;
}
.inv .mono { color: #c4d0e0; }
.inv .sub { color: var(--muted); font-size: 0.9rem; }

/* Transactions */
.tx-list { display: grid; gap: 8px; }
.tx {
  display: grid; grid-template-columns: 1fr auto; gap: 8px; align-items: center;
  background: #0f1522; border: 1px solid #1f2a3d; border-radius: 12px; padding: 10px;
}
.tx .amt { font-weight: 800; }
.type-deposit { color: var(--primary); }
.type-withdraw { color: var(--danger); }
.type-invest, .type-cashout { color: var(--accent); }

/* Lists */
.list { list-style: none; padding: 0; margin: 0; display: grid; gap: 8px; }
.list li { display: flex; justify-content: space-between; padding: 10px; background: #0f1522; border: 1px solid #1f2a3d; border-radius: 12px; }
.list-label { color: var(--muted); }

/* Tab bar */
.tabbar {
  position: fixed; left: 0; right: 0; bottom: 0;
  padding: 8px calc(12px + var(--safe-bottom)) calc(8px + var(--safe-bottom));
  background: rgba(10,13,19,0.85);
  border-top: 1px solid #111723;
  backdrop-filter: blur(8px);
  display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px;
}
.tab-btn {
  display: flex; flex-direction: column; align-items: center; gap: 2px;
  border: 1px solid var(--outline); background: #0f1623; color: var(--text);
  padding: 8px 6px; border-radius: 12px; text-decoration: none; cursor: pointer;
  font-size: 0.95rem;
}
.tab-btn.active, .tab-btn:focus { outline: none; border-color: #2a3b55; background: #162031; }

/* Sheet */
.sheet-backdrop {
  position: fixed; inset: 0; background: rgba(0,0,0,0.5); backdrop-filter: blur(2px);
}
.sheet {
  position: fixed; left: 0; right: 0; bottom: 0; transform: translateY(100%);
  background: var(--surface); border-top-left-radius: 16px; border-top-right-radius: 16px;
  border-top: 1px solid #1f2937; transition: transform 240ms ease;
}
.sheet.open { transform: translateY(0); }
.sheet-handle { width: 44px; height: 5px; background: #334155; border-radius: 999px; margin: 10px auto; }
.sheet-content { padding: 6px 12px 20px; }
.sheet-list { list-style: none; padding: 0; margin: 0; display: grid; gap: 8px; }
.sheet .item {
  width: 100%; text-align: left; padding: 12px; border-radius: 12px; border: 1px solid var(--outline);
  background: #0f1623; color: var(--text); cursor: pointer; display: block; text-decoration: none;
}
.sheet .item.danger { background: var(--danger); border-color: transparent; color: #fff; }

/* Footer */
.app-footer { text-align: center; padding: 18px 12px calc(100px + var(--safe-bottom)); }

/* Responsive (tablet/desktop) */
@media (min-width: 768px) {
  .app-main { padding-bottom: 30px; }
  .kpis { grid-template-columns: repeat(3, 1fr); }
  .packages { grid-template-columns: repeat(3, 1fr); }
  .inv { grid-template-columns: 1.2fr 1fr 1fr 1fr; }
  .tabbar { position: sticky; bottom: auto; padding: 8px 12px; border-radius: 14px; max-width: 900px; margin: 10px auto; }
}

/* Light theme switch */
:root.light {
  --bg: #f5f7fb;
  --surface: #ffffff;
  --elev: #f4f6fb;
  --text: #0b0f14;
  --muted: #5b6a7d;
  --outline: #d0d8e4;
  color-scheme: light;
}
body.light { background: #eef3fb; }